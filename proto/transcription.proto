syntax = "proto3";
package AiService;

service Transcription {
	rpc TranscriptionBiStreams (stream DiscordOpusPacketList) returns (stream TranscriptionEvent);
}

message DiscordOpusPacket {
	int64 timestamp = 1;
	bytes data = 2;
}

message DiscordOpusPacketList {
	repeated DiscordOpusPacket packets = 1;
	string speaker_id = 2;
	string prompt = 3;
	bool is_final = 4;
}

message TranscriptionEvent {
	string eventName = 1;
	string eventData = 2;
	bytes opusData = 3;
}
